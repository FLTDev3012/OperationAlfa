<div class="com-contener">

  <div class="com-titre">
    <h1>Espace commentaire</h1>
  </div>
  <div class="piece-banner-info-content maintenance-content">
    <div class="piece-info-banner maintenance">
      <h6>⚠️🚧👷 Site actuellement en maintenance 👷🚧⚠️<br></h6>
    </div>
  </div>

  <div class="com-droite-gauche-content">

    <div class="com-part-gauche">
      <% if @commentaires.present? %>
        <% @commentaires.each_with_index do |commentaire, index| %>
          <div class="com-all-one-w-rep">
            <div class="com-part-gauche-com-seul <%= index.even? ? 'com-bg-red' : 'com-bg-grey' %>">
              <p> <strong><span class="com-nom"><%= commentaire.prenom.capitalize %>:</span></strong></p>
              <p class="com-text"> <%= commentaire.text.capitalize %> </p>
              <div class="com-date"></div>
            </div>
            <% if commentaire.reponse.present? %>
              <div class="com-part-gauche-com-rep-seul">
                <div class="com-rep-nom">
                  <p class="com-admin"><strong>Planète Alfa</strong></p>
                </div>
                <p> <%= commentaire.reponse.capitalize %></p>
              </div>
            <% end %>
          </div>
        <% end %>

      <% else %>

        <% if @commentaire.errors.any? %>
        <div class="com-error blanc">
          <p><strong>Le formulaire contient des erreurs :</strong></p>
          <ul>
            <% @commentaire.errors.full_messages_for(:nom).each do |message| %>
              <li><%= message %></li>
            <% end %>
            <% @commentaire.errors.full_messages_for(:prenom).each do |message| %>
              <li><%= message %></li>
            <% end %>
            <% @commentaire.errors.full_messages_for(:email).each do |message| %>
              <li><%= message %></li>
            <% end %>
            <% @commentaire.errors.full_messages_for(:text).each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <% end %>
    </div>


    <div class="com-part-droite">
      <%= simple_form_for @commentaire, html: { class: "com-form" } do |f| %>
        <div class="com-votrecom">
          <p>Votre commentaire</p>
        </div>
        <%= f.input :nom, placeholder: 'Nom', input_html: { maxlength: 20 } %>
        <%= f.input :prenom, placeholder: 'Prenom', input_html: { maxlength: 20 } %>
        <%= f.input :email, placeholder: 'exemple@gmail.com' %>
        <p>Votre text</p>
        <%= f.text_area :text, placeholder: 'Votre text...', class: "com-textarea" %>
        <div class="com-submit">
          <%= f.submit "Publier"%>
        </div>
      <% end %>

      <% if @commentaire.errors.any? %>
        <div class="com-error">
          <p><strong>Le formulaire contient des erreurs :</strong></p>
          <ul>
            <% @commentaire.errors.full_messages_for(:nom).each do |message| %>
              <li><%= message %></li>
            <% end %>
            <% @commentaire.errors.full_messages_for(:prenom).each do |message| %>
              <li><%= message %></li>
            <% end %>
            <% @commentaire.errors.full_messages_for(:email).each do |message| %>
              <li><%= message %></li>
            <% end %>
            <% @commentaire.errors.full_messages_for(:text).each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>




    </div>

  </div>
</div>

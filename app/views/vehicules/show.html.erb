<div class="vshow-container">

  <div class="vshow-titre">
    <h1><%= @vehicule.marque %> &nbsp; <%= @vehicule.modele %></h1>

  </div>

  <div class="vshow-contener-carrou">

    <div class="vshow-gauche">

      <div class="vshow-gauche">
        <% if @vehicule.pictures.present? %>
          <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
              <% @vehicule.pictures.each_with_index do |picture, index| %>
                <div class="carousel-item <%= 'active' if index == 0 %>">
                  <%= cl_image_tag picture.key, height: 400, width: 560, crop: :fill %>
                </div>
              <% end %>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        <% elsif @vehicule.photo.present?%>
          <%= cl_image_tag @vehicule.photo.key, height: 400, width: 560, crop: :fill %>
        <% else %>
          <p>Image non disponible</p>
        <% end %>
        <div class="vshow560">
          <div class="vshow-prix">
            <p><%= number_with_delimiter(@vehicule.prix.to_i, delimiter: ' ') %> €</p>
          </div>

        </div>
      </div>

      <script>
        var carousel = document.querySelector('#carouselExampleControls')
        var carouselInstance = new bootstrap.Carousel(carousel)
      </script>

    </div>



  </div>

  <div class="vshow-back">
    <%= link_to vehicules_path, class: "deco-none" do %>
      <i class="fa-solid fa-arrow-left" style="color: #ffffff;"></i>
    <% end %>
  </div>

  <div class="vshow-detail-decrip">
    <div class="vshow-detail">

      <div class="vshow-titre-detail">
        <h3>Détails</h3>
      </div>

      <div class="vshow-droite">

        <div class="vshow-box-droite">
          <p><span class="vshow-span-tableau">Marque: </span></p>
          <p id="div2"><span class="vshow-span-tableau">Modele: </span></p>
          <p><span class="vshow-span-tableau">Boite: </span></p>
          <p><span class="vshow-span-tableau">Carburant: </span></p>
          <p><span class="vshow-span-tableau">Kilometrage: </span></p>
          <p><span class="vshow-span-tableau">Enregistrement: </span></p>
          <p><span class="vshow-span-tableau">Puissance ch: </span></p>
          <p><span class="vshow-span-tableau">Puissance cv: </span></p>
          <p><span class="vshow-span-tableau">Couleur: </span></p>
        </div>

        <div class="vshow-box-droite  vshow-end">
          <p><%= @vehicule.marque %></p>
          <p id="div1"><%= @vehicule.modele %></p>
          <p><%= @vehicule.boite %></p>
          <p><%= @vehicule.carburant %></p>
          <p><%= number_with_delimiter(@vehicule.kilometrage.to_i, delimiter: ' ') %> km</p>
          <p><%= @vehicule.enregistrement %></p>
          <p><%= @vehicule.puissancech %> ch</p>
          <p><%= @vehicule.puissancecv %> cv</p>
          <p><%= @vehicule.couleur %></p>
        </div>
      </div>

    </div>

    <script>
      // Récupérer la hauteur de la première div
      var div1Height = document.getElementById('div1').offsetHeight;

      // Ajouter cette hauteur à la deuxième div
      document.getElementById('div2').style.height = div1Height + 'px';
    </script>


    <div class="vshow-description">
      <div class="vshow-titre-description">
        <h3>Description</h3>
      </div>
      <div class="vshow-text-description">
        <p><%= @vehicule.description %></p>
      </div>
    </div>
  </div>
</div>
